(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{102:function(e,a,t){"use strict";t.r(a);var r=t(17),n=t(31),c=t(33),l=t(32),o=t(34),i=t(2),s=t.n(i),m=t(96),p=t(93),h=function(e){function a(){return Object(r.a)(this,a),Object(c.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this.props,a=e.onSearch,t=e.placeholder,r=e.value;return s.a.createElement("div",{className:"search-field"},s.a.createElement("input",{placeholder:t,value:r,type:"text",onChange:function(e){return a(e.target.value)}}))}}]),a}(i.Component),u=t(19),d=t(97),f=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(o)))).setOrder=function(e){var a=t.props,r=a.orderByField,n=a.orderByReverse,c=!1;e===r&&(c=!n),t.props.onOrder(e,c)},t}return Object(o.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.orderByField,r=a.orderByReverse;return s.a.createElement("ul",{className:"order-by"},u.d.map(function(a){return s.a.createElement("li",{key:a,className:t===a?"active":"",onClick:function(){return e.setOrder(a)}},a,"\xa0",t===a&&r?s.a.createElement(d.a,{icon:"sort-alpha-up"}):s.a.createElement(d.a,{icon:"sort-alpha-down"}))}))}}]),a}(i.PureComponent),E=function(e){var a=e.text,t=e.regex;if(!t)return s.a.createElement(s.a.Fragment,null,a);var r=a.replace(t,"<mark>$&</mark>");return s.a.createElement("span",{dangerouslySetInnerHTML:{__html:r}})},y=t(92),v=t(99),b=v.a.div({expanded:{width:"auto",delayChildren:function(e){return 100+100*e.i},transition:function(e){return{delay:100*e.i}}},minimized:{width:"148px"},props:{i:0}}),O=v.a.div({expanded:{opacity:1},minimized:{opacity:0}}),g=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(o)))).stopPropagation=function(e){e.stopPropagation()},t.goToContactDetails=function(){t.props.history.push("/contacts/"+t.props.contact.identifier)},t}return Object(o.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){this.props.contact.expanded||(this.props.contact.expanded=!0,this.forceUpdate())}},{key:"render",value:function(){var e=this.props,a=e.contact,t=e.highlightRegex,r=e.index;return s.a.createElement(b,{className:"contact-list-item",onClick:this.goToContactDetails,i:r+1,pose:a.expanded?"expanded":"minimized"},s.a.createElement("img",{src:a.picture,style:{borderColor:a.color,backgroundColor:a.color},alt:""}),s.a.createElement(O,{className:"text"},s.a.createElement("h2",null,s.a.createElement(E,{text:a.name,regex:t})),s.a.createElement("div",{className:"layout row column-lt-xs"},s.a.createElement("div",{className:"flex"},s.a.createElement("p",{className:"email"},s.a.createElement("a",{href:"mailto:"+a.email,onClick:this.stopPropagation},s.a.createElement(d.a,{className:"mail-icon",icon:"envelope"}),s.a.createElement(E,{text:a.email,regex:t}))),s.a.createElement("p",{className:"city"},s.a.createElement("a",{href:a.mapUrl,onClick:this.stopPropagation},s.a.createElement(d.a,{className:"location-icon",icon:"map-marker-alt"}),s.a.createElement(E,{text:a.city,regex:t})))),s.a.createElement("div",{className:"flex"},s.a.createElement("p",{className:"phone"},s.a.createElement("a",{href:"tel:"+a.phone,onClick:this.stopPropagation},s.a.createElement(d.a,{className:"phone-icon",icon:"phone"}),s.a.createElement(E,{text:a.phone,regex:t}))),s.a.createElement("p",{className:"mobile"},s.a.createElement("a",{href:"tel:"+a.cell,onClick:this.stopPropagation},s.a.createElement(d.a,{className:"mobile-icon",icon:"mobile-alt"}),s.a.createElement(E,{text:a.cell,regex:t})))))))}}]),a}(i.PureComponent),x=Object(y.a)(g),N=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(o)))).handleSearch=function(e){t.props.handleSearch(e)},t.handleOrder=function(e,a){t.props.handleOrderBy(e,a)},t.performSearch=function(e){var a=t.props.searchTerm;if(!a)return!0;t.searchRegex=new RegExp(a,"gi");var r=!0,n=!1,c=void 0;try{for(var l,o=u.e[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var i=l.value;if(t.searchRegex.test(e[i]))return!0}}catch(s){n=!0,c=s}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return!1},t.performOrder=function(e,a){var r=t.props,n=r.orderByField,c=r.orderByReverse;if(!n)return 0;var l=c?[-1,1]:[1,-1];return e[n]>a[n]?l[0]:a[n]>e[n]?l[1]:0},t}return Object(o.a)(a,e),Object(n.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.contacts,r=a.searchTerm,n=a.orderByField,c=a.orderByReverse;return s.a.createElement("div",{className:"contact-list"},s.a.createElement("section",{className:"top-section"},s.a.createElement(h,{value:r,placeholder:"Search contacts...",onSearch:this.handleSearch}),s.a.createElement(f,{orderByField:n,orderByReverse:c,onOrder:this.handleOrder})),s.a.createElement("ul",{className:"contacts"},t.filter(this.performSearch).sort(this.performOrder).map(function(a,t){return s.a.createElement("li",{key:a.identifier},s.a.createElement(x,{index:t,contact:a,highlightRegex:e.searchRegex}))})))}}]),a}(i.PureComponent),j=t(101),k=Object(y.a)(function(e){return s.a.createElement(j.a,{to:"/contacts",className:"back-link"},s.a.createElement(d.a,{icon:"angle-left"}),"Back")}),B=t(47),C=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(o)))).state={contact:{}},t}return Object(o.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.contacts.find(function(a){return a.identifier===e.props.match.params.contactId});a&&this.setState({contact:a})}},{key:"render",value:function(){var e=this.state.contact;return s.a.createElement("section",{className:"contact-details"},s.a.createElement(k,null),!!e&&s.a.createElement("div",{className:"contact layout row column-lt-xs"},s.a.createElement("img",{style:{borderColor:e.color,backgroundColor:e.color},src:e.picture,alt:""}),s.a.createElement("div",{className:"flex"},s.a.createElement("h2",null,e.firstname," ",e.lastname),s.a.createElement("div",{className:"layout row column-lt-xs"},s.a.createElement("div",{className:"flex information"},s.a.createElement("p",{className:"email"},s.a.createElement("a",{href:"mailto:"+e.email},s.a.createElement("span",{className:"information-header"},s.a.createElement(d.a,{className:"mail-icon",icon:"envelope"})," Email"),e.email)),s.a.createElement("p",{className:"phone"},s.a.createElement("a",{href:"tel:"+e.phone},s.a.createElement("span",{className:"information-header"},s.a.createElement(d.a,{className:"phone-icon",icon:"phone"})," Phone"),e.phone)),s.a.createElement("p",{className:"mobile"},s.a.createElement("a",{href:"tel:"+e.cell},s.a.createElement("span",{className:"information-header"},s.a.createElement(d.a,{className:"mobile-icon",icon:"mobile-alt"})," Cell"),e.cell)),s.a.createElement("p",{className:"location"},s.a.createElement("a",{href:e.mapUrl},s.a.createElement("span",{className:"information-header"},s.a.createElement(d.a,{className:"location-icon",icon:"map-marker-alt"})," Address"),e.street," ",s.a.createElement("br",null),e.postcode," ",s.a.createElement("br",null),e.city," ",s.a.createElement("br",null)))),s.a.createElement("div",{className:"flex"},s.a.createElement("p",null,s.a.createElement("span",{className:"information-header"},s.a.createElement(d.a,{className:"question-icon",icon:"question-circle"})," Did you know?"),e.firstname,"'s birthday is ",e.daysUntilBirthday," (",e.birthday,") ",s.a.createElement("br",null),e.firstname," has been an employee since ",e.registered))))))}}]),a}(i.Component),w=Object(B.a)(C),S=t(44),R=(t(98),t(56)),P=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(o)))).state={contacts:[],searchTerm:"",orderBy:{field:"name",reverse:!1}},t.handleSearch=function(e){t.setState({searchTerm:e})},t.handleOrderBy=function(e,a){t.setState({orderBy:{field:e,reverse:a}})},t}return Object(o.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(S.a)().then(function(a){e.setState({contacts:a})})}},{key:"render",value:function(){var e=this,a=this.state,t=a.searchTerm,r=a.orderBy,n=a.contacts;return s.a.createElement(s.a.Fragment,null,s.a.createElement(R.a,{loading:!n.length}),s.a.createElement(m.a,null,s.a.createElement(p.a,{path:"/contacts",exact:!0,render:function(){return s.a.createElement(N,{contacts:n,orderByField:r.field,orderByReverse:r.reverse,searchTerm:t,handleSearch:e.handleSearch,handleOrderBy:e.handleOrderBy})}}),s.a.createElement(p.a,{path:"/contacts/:contactId",exact:!0,component:function(){return s.a.createElement(w,{contacts:n})}})))}}]),a}(i.Component);a.default=P},98:function(e,a,t){}}]);
//# sourceMappingURL=3.429b9f13.chunk.js.map